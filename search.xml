<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Mimikatz源码+定位特征码免杀</title>
      <link href="/2024/01/23/Mimikatz%E6%BA%90%E7%A0%81+%E5%AE%9A%E4%BD%8D%E7%89%B9%E5%BE%81%E7%A0%81%E5%85%8D%E6%9D%80/"/>
      <url>/2024/01/23/Mimikatz%E6%BA%90%E7%A0%81+%E5%AE%9A%E4%BD%8D%E7%89%B9%E5%BE%81%E7%A0%81%E5%85%8D%E6%9D%80/</url>
      
        <content type="html"><![CDATA[<h1 id="Mimikatz源码-定位特征码免杀"><a href="#Mimikatz源码-定位特征码免杀" class="headerlink" title="Mimikatz源码+定位特征码免杀"></a>Mimikatz源码+定位特征码免杀</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Github</span><br><span class="line">https://github.com/gentilkiwi/mimikatz</span><br></pre></td></tr></table></figure><h2 id="使用部分"><a href="#使用部分" class="headerlink" title="使用部分"></a>使用部分</h2><h3 id="抓取密码"><a href="#抓取密码" class="headerlink" title="抓取密码"></a>抓取密码</h3><p>1.提升权限</p><p>privilege::debug</p><p>2.抓取明文密码</p><p>sekurlsa::logonpasswords</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230017205.png"></p><h3 id="详细使用参考"><a href="#详细使用参考" class="headerlink" title="详细使用参考"></a>详细使用参考</h3><p><a href="https://www.freebuf.com/articles/web/176796.html">九种姿势运行Mimikatz - FreeBuf网络安全行业门户</a></p><p><a href="https://www.bilibili.com/read/cv13771844">内网渗透—Mimikatz使用大全 - 哔哩哔哩 (bilibili.com)</a></p><h2 id="免杀部分"><a href="#免杀部分" class="headerlink" title="免杀部分"></a>免杀部分</h2><h3 id="原版测试"><a href="#原版测试" class="headerlink" title="原版测试"></a>原版测试</h3><p>落地秒</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230017334.png"></p><h3 id="1-Github下载源码"><a href="#1-Github下载源码" class="headerlink" title="1.Github下载源码"></a>1.Github下载源码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/gentilkiwi/mimikatz</span><br></pre></td></tr></table></figure><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230018085.png"></p><p>对Mimikatz进行源码免杀时，源码免杀只需要定位源码中的特征代码进行修改就可以达到预期的免杀效果。一般的定位特征码分为三种：</p><ol><li>定位到代码上；</li><li>定位到字符串上；</li><li>定位到输入表上。</li></ol><h3 id="2-VScode打开项目"><a href="#2-VScode打开项目" class="headerlink" title="2.VScode打开项目"></a>2.VScode打开项目</h3><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230018755.png"></p><h3 id="3-点击生成"><a href="#3-点击生成" class="headerlink" title="3.点击生成"></a>3.点击生成</h3><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230018868.png"></p><h3 id="4-发现报错"><a href="#4-发现报错" class="headerlink" title="4.发现报错"></a>4.发现报错</h3><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230018785.png"></p><p>解决方法</p><p>点击工具 -&gt; 获取工具和功能</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230018909.png"></p><p>安装这两个，win10 sdk也要安装，不装后门会报另一个错</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230019417.png"></p><p>键Mimikatz对象，选择：属性–&gt;配置属性–&gt;常规–&gt;平台工具集：修改为141，修改sdk版本为我们刚才在的那个</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230019677.png"></p><p>右键点击mimikatz–&gt;属性–&gt;配置属性–&gt;C&#x2F;C++–&gt;常规–&gt;将警告等级：关闭所有警告–&gt;将警告视为错误:选否</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230019353.png"></p><p>生成<code>x64</code>位的程序：右键Mimikatz对象，选择：属性–&gt;配置管理器–&gt;mimikatz：选择x64</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230019352.png"></p><p>再次点击mimikatz对象 ，成功生成exe</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230019861.png"></p><p>正常使用，没问题</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230019688.png"></p><p>此时仍然是被落地秒的</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230020579.png"></p><h3 id="5-定位代码或字符的特征进行修改从而绕过"><a href="#5-定位代码或字符的特征进行修改从而绕过" class="headerlink" title="5.定位代码或字符的特征进行修改从而绕过"></a>5.定位代码或字符的特征进行修改从而绕过</h3><p>将项目中所有的mimikatz字符替换为halokw，替換時出現一個是否，需要選否，否則編譯不成功</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230020923.png"></p><p>修改文件夹名和文件名</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230020783.png"></p><h3 id="6-再次生成尝试"><a href="#6-再次生成尝试" class="headerlink" title="6.再次生成尝试"></a>6.再次生成尝试</h3><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230020495.png"></p><p>依然落地秒</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230020521.png"></p><h3 id="7-修改icon，刪除注釋"><a href="#7-修改icon，刪除注釋" class="headerlink" title="7.修改icon，刪除注釋"></a>7.修改icon，刪除注釋</h3><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230020586.png"></p><p>刪除注釋，可采用正則匹配多行注釋快速刪除</p><p><code>/\*(.|\r\n|\n)*?\*/</code></p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230020627.png"></p><h3 id="8-重新编译，此时动静态过360"><a href="#8-重新编译，此时动静态过360" class="headerlink" title="8.重新编译，此时动静态过360"></a>8.重新编译，此时动静态过360</h3><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230020008.png"></p><p>运行也没问题</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230021549.png"></p><p>但是此时火绒依然查杀</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230021604.png"></p><h3 id="9-使用VIRTEST定位特征码"><a href="#9-使用VIRTEST定位特征码" class="headerlink" title="9.使用VIRTEST定位特征码"></a>9.使用VIRTEST定位特征码</h3><p>定位到四个特征码</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230021726.png"></p><p>使用winhex全改成0</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230021651.png"></p><h3 id="10-修改完特征码后火绒已免杀"><a href="#10-修改完特征码后火绒已免杀" class="headerlink" title="10.修改完特征码后火绒已免杀"></a>10.修改完特征码后火绒已免杀</h3><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230021746.png"></p><p>这么做的代价是有可能会导致部分功能无法使用</p><p><img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401230021832.png"></p>]]></content>
      
      
      <categories>
          
          <category> 免杀 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 免杀 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Github搭建个人博客折腾笔记</title>
      <link href="/2024/01/22/Hexo%E6%8A%98%E8%85%BE%E6%97%A5%E8%AE%B0/"/>
      <url>/2024/01/22/Hexo%E6%8A%98%E8%85%BE%E6%97%A5%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="安装hexo权限报错问题"><a href="#安装hexo权限报错问题" class="headerlink" title="安装hexo权限报错问题"></a>安装hexo权限报错问题</h1><p>Ubuntu+Hexo+Github 搭建个人博客记录<br>‍</p><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221207871.png">​</p><p>‍</p><p>参照官方教程</p><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221207157.png">​</p><p><a href="https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally">https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally</a></p><p>即可解决</p><ol><li>Back up your computer.备份您的计算机。</li><li>On the command line, in your home directory, create a directory for global installations:在命令行的主目录中，为全局安装创建一个目录：<br> ​<code>mkdir ~/.npm-global</code>​</li><li>Configure npm to use the new directory path:配置 npm 以使用新的目录路径：<br> ​<code>npm config set prefix &#39;~/.npm-global&#39;</code>​</li><li>In your preferred text editor, open or create a <code>~/.profile</code>​ file and add this line:在首选文本编辑器中，打开或创建一个 <del>&#x2F;.profile 文件并添加以下行：<br> ​&#96;export PATH&#x3D;</del>&#x2F;.npm-global&#x2F;bin:$PATH&#96;​</li><li>On the command line, update your system variables:在命令行上，更新系统变量：<br> ​<code>source ~/.profile</code>​</li><li>To test your new configuration, install a package globally without using <code>sudo</code>​:若要测试新配置，请全局安装包，而不使用 sudo ：<br> ​<code>npm install -g jshint</code>​</li></ol><h1 id="安装流程"><a href="#安装流程" class="headerlink" title="安装流程"></a>安装流程</h1><ol><li><p>sudo apt install nodejs</p></li><li><p>sudo apt install npm</p></li><li><p>​<code>npm install hexo-cli -g</code>​</p></li><li><p>​<code>npm install hexo -g</code>​</p></li><li><p>​<code>hexo init</code>​ “Start blogging with Hexo！”打印，说明初始化完成</p><p> ​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221207116.png">​</p></li><li><p>​<code>hexo g #generate 生成静态文件</code>​ 报错</p><p> ​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221207564.png">​</p><p> 可能是nodejs版本太低导致</p><p> ​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221207583.png">​</p><p> 安装Ubuntu nodejs版本管理工具 n</p> <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install npm</span><br><span class="line">sudo npm install -g n</span><br></pre></td></tr></table></figure><p> 将node 升级到14</p><p> ​<code>sudo n 14</code>​</p><p> ​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221207122.png">​</p></li><li><p>hexo s 启动</p><p> ​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221208681.png">​</p></li></ol><p>此时已经得到一个原始的Blog</p><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221208640.png">​</p><p>‍</p><h1 id="配置github"><a href="#配置github" class="headerlink" title="配置github"></a>配置github</h1><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221208748.png">​</p><p>‍</p><p>ssh无法连接导致仓库传不上去</p><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221208353.png">​</p><p>解决</p><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221208867.png">​</p><p>‍</p><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221209514.png">​</p><p><a href="https://liuyfen.github.io/">https://liuyfen.github.io/</a></p><p>现在查看github仓库已经传上去了</p><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221210904.png">​</p><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221211009.png">​</p><p>接下来就是修改主题</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://www.guifei.site/2022/07/20/hexo%E5%8D%9A%E5%AE%A2%E5%AE%89%E8%A3%85Butterfly%E4%B8%BB%E9%A2%98/</span><br><span class="line">https://blog.csdn.net/mjh1667002013/article/details/129290903</span><br></pre></td></tr></table></figure><h1 id="暂时效果"><a href="#暂时效果" class="headerlink" title="暂时效果"></a>暂时效果</h1><p>​<img src="https://hexo-19989hexo-1233-1310773284.cos.ap-nanjing.myqcloud.com/202401221211301.png">​</p><p>‍</p>]]></content>
      
      
      <categories>
          
          <category> 杂 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 折腾日记 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
